apiVersion: v1
kind: ConfigMap
metadata:
  name: elastic-helm-values
  namespace: elastic-system
data:
  values.yaml: |
    global:
      storageClass: nfs
      kibanaEnabled: true
    security:
      enabled: true
      # PASSWORD must be the same value passed to elasticsearch to get an "out of the box" experience
      elasticPassword: "1234"
      tls:
        # AutoGenerate TLS certs for elastic
        autoGenerated: true
    
    kibana:
      elasticsearch:
        security:
          auth:
            enabled: true
            # default in the elasticsearch chart is elastic
            kibanaUsername: "elastic"
            kibanaPassword: "1234"
          tls:
            # Instruct kibana to connect to elastic over https
            enabled: true
    
            # Bit of a catch 22, as you will need to know the name upfront of your release
            existingSecret: elastic-elasticsearch-coordinating-crt # or just 'elasticsearch-coordinating-crt' if the release name happens to be 'elasticsearch'
    
            # As the certs are auto-generated, they are pemCerts so set to true
            usePemCerts: true
          
    
    master:
      masterOnly: false
      replicaCount: 1
      heapSize: 500m
      persistence: 
        storageClass: nfs
    coordinating:
      replicaCount: 1
    data:
      replicaCount: 1
    ingest:
      replicaCount: 1
